<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body>

    <pre id="codePreview" class="p-4 text-gray-400 bg-slate-900"></pre>

    <script>

        const code = document.getElementById("codePreview")

        let json_data = [{
            id: "a1c33bd1-0528-4de3-a745-44d95e7ac3d8",
            nacionalidad: "argentino",
            nombre: "Juli√°n",
            edad: 33,
            hermanos: [
                {
                    nombre: "Nicolas",
                },
                {
                    nombre: "Javier"
                }
            ],
            estudios: [
                {
                    universitario: "UBA",
                    notas: [7, 8, 9, 10]
                }
            ],
            documento: {
                id: 1234,
                tipo: "DNI"
            }
        }]

        function showMessage(e){
            alert("id: " + e.target.id)
        }

        function iterateObject(obj) {
            for (prop in obj) {
                if (typeof (obj[prop]) === "object") {
                    iterateObject(obj[prop])
                } else {
                    if(prop === "id"){
                        obj[prop] = `<span id=${obj[prop]} class='text-emerald-500 px-1 bg-slate-700 rounded cursor-pointer' onclick='showMessage(event)'>${obj[prop]}</span>`

                    } else {
                        obj[prop] = `<span class='text-sky-400'>${obj[prop]}</span>`
                    }
                    
                }
            }
        }
        
        const regex_pattern = '"([^"]+?)"\s*:'
        let formated = JSON.stringify(json_data, undefined, 4)

        // Pinta valores que son ids
        formated = formated.replace(/(?:\"|\')(?<key>[\"id"]+)(?:\"|\')(?:\:\s*)(?:\"|\')?(?<value>[\w\s-]*)(?:\"|\')?/g, s => {           
            const parts = (s.split(':'))
            const key = `${parts[0]}:`
            
            const value = `<span id=${parts[1].slice(1)} class='text-emerald-500 px-0.5 bg-slate-700 rounded cursor-pointer' onclick='showMessage(event)'>${parts[1].slice(1)}</span>`
            s = key + " " + value
            console.log(s)
            return key + " " +  value

        });

        // Pinta claves
        formated = formated.replace(/"([^"]+?)"\s*:/g, s => {           
            return `<span class='text-pink-400'>${s.slice(0, -1)}</span>:`
        });

        code.innerHTML = formated

    </script>
</body>

</html>